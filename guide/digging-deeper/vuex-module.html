<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vuex Module | Vuex ORM</title>
    <meta name="description" content="The Vuex plugin to enable Object-Relational Mapping access to the Vuex Store.">
    
    
    <link rel="preload" href="/vuex-orm/assets/css/0.styles.000274ea.css" as="style"><link rel="preload" href="/vuex-orm/assets/js/app.85b8a76f.js" as="script"><link rel="preload" href="/vuex-orm/assets/js/2.ef981a97.js" as="script"><link rel="preload" href="/vuex-orm/assets/js/17.1bbf4420.js" as="script"><link rel="prefetch" href="/vuex-orm/assets/js/10.5e8660c4.js"><link rel="prefetch" href="/vuex-orm/assets/js/11.9c4a77f6.js"><link rel="prefetch" href="/vuex-orm/assets/js/12.e3b5f9a5.js"><link rel="prefetch" href="/vuex-orm/assets/js/13.987db1ec.js"><link rel="prefetch" href="/vuex-orm/assets/js/14.fcc58621.js"><link rel="prefetch" href="/vuex-orm/assets/js/15.36404af2.js"><link rel="prefetch" href="/vuex-orm/assets/js/16.6bf785c6.js"><link rel="prefetch" href="/vuex-orm/assets/js/18.f9e8c0c2.js"><link rel="prefetch" href="/vuex-orm/assets/js/19.9eb1e524.js"><link rel="prefetch" href="/vuex-orm/assets/js/20.4a9a85b7.js"><link rel="prefetch" href="/vuex-orm/assets/js/21.11b5662b.js"><link rel="prefetch" href="/vuex-orm/assets/js/22.fc810606.js"><link rel="prefetch" href="/vuex-orm/assets/js/23.66346f0d.js"><link rel="prefetch" href="/vuex-orm/assets/js/24.0b90f580.js"><link rel="prefetch" href="/vuex-orm/assets/js/25.0687c658.js"><link rel="prefetch" href="/vuex-orm/assets/js/26.818eb9de.js"><link rel="prefetch" href="/vuex-orm/assets/js/27.d5d24824.js"><link rel="prefetch" href="/vuex-orm/assets/js/3.03e790ce.js"><link rel="prefetch" href="/vuex-orm/assets/js/4.2119a9f7.js"><link rel="prefetch" href="/vuex-orm/assets/js/5.b191f5fc.js"><link rel="prefetch" href="/vuex-orm/assets/js/6.990d30b7.js"><link rel="prefetch" href="/vuex-orm/assets/js/7.69a455bd.js"><link rel="prefetch" href="/vuex-orm/assets/js/8.cd358c55.js"><link rel="prefetch" href="/vuex-orm/assets/js/9.8696c6af.js">
    <link rel="stylesheet" href="/vuex-orm/assets/css/0.styles.000274ea.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuex-orm/" class="home-link router-link-active"><!----> <span class="site-name">Vuex ORM</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuex-orm/guide/prologue/what-is-vuex-orm.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/vuex-orm/api/container/container.html" class="nav-link">API Reference</a></div><div class="nav-item"><a href="https://github.com/vuex-orm/vuex-orm/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Release Notes
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/vuex-orm/vuex-orm" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuex-orm/guide/prologue/what-is-vuex-orm.html" class="nav-link">Guide</a></div><div class="nav-item"><a href="/vuex-orm/api/container/container.html" class="nav-link">API Reference</a></div><div class="nav-item"><a href="https://github.com/vuex-orm/vuex-orm/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Release Notes
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/vuex-orm/vuex-orm" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Prologue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuex-orm/guide/prologue/what-is-vuex-orm.html" class="sidebar-link">What is Vuex ORM?</a></li><li><a href="/vuex-orm/guide/prologue/installation.html" class="sidebar-link">Installation</a></li><li><a href="/vuex-orm/guide/prologue/getting-started.html" class="sidebar-link">Getting Started</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Model</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuex-orm/guide/model/defining-models.html" class="sidebar-link">Defining Models</a></li><li><a href="/vuex-orm/guide/model/relationships.html" class="sidebar-link">Relationships</a></li><li><a href="/vuex-orm/guide/model/single-table-inheritance.html" class="sidebar-link">Single Table Inheritance</a></li><li><a href="/vuex-orm/guide/model/accessors-and-mutators.html" class="sidebar-link">Accessors &amp; Mutators</a></li><li><a href="/vuex-orm/guide/model/database-registration.html" class="sidebar-link">Database Registration</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Data</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuex-orm/guide/data/inserting-and-updating.html" class="sidebar-link">Inserting &amp; Updating</a></li><li><a href="/vuex-orm/guide/data/retrieving.html" class="sidebar-link">Retrieving</a></li><li><a href="/vuex-orm/guide/data/deleting.html" class="sidebar-link">Deleting</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Digging Deeper</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuex-orm/guide/digging-deeper/vuex-module.html" class="active sidebar-link">Vuex Module</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuex-orm/guide/digging-deeper/vuex-module.html#defining-state" class="sidebar-link">Defining State</a></li><li class="sidebar-sub-header"><a href="/vuex-orm/guide/digging-deeper/vuex-module.html#mutating-state" class="sidebar-link">Mutating State</a></li><li class="sidebar-sub-header"><a href="/vuex-orm/guide/digging-deeper/vuex-module.html#defining-modules" class="sidebar-link">Defining Modules</a></li><li class="sidebar-sub-header"><a href="/vuex-orm/guide/digging-deeper/vuex-module.html#call-module-methods-fom-model" class="sidebar-link">Call Module Methods fom Model</a></li></ul></li><li><a href="/vuex-orm/guide/digging-deeper/lifecycle-hooks.html" class="sidebar-link">Lifecycle Hooks</a></li><li><a href="/vuex-orm/guide/digging-deeper/serialization.html" class="sidebar-link">Serialization</a></li><li><a href="/vuex-orm/guide/digging-deeper/plugins.html" class="sidebar-link">Plugins</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Sponsors</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuex-orm/guide/sponsors/awesome-folks.html" class="sidebar-link">Awesome Folks</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vuex-module"><a href="#vuex-module" aria-hidden="true" class="header-anchor">#</a> Vuex Module</h1> <p>Vuex ORM can define additional Vuex Module state and methods and interact with them.</p> <h2 id="defining-state"><a href="#defining-state" aria-hidden="true" class="header-anchor">#</a> Defining State</h2> <p>Within Vuex Store, each Model has a corresponding state tree. For example, if you have User Model, inside Vuex Store would look like this.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  entities<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    users<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      data<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>You can see there's <code>data</code> property under <code>users</code>. Here is where all of the user records will be stored. However, you may add any number of state property other than <code>data</code> and interact with them through Model method.</p> <p>To define state, define <code>static state</code> property at Model.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> entity <span class="token operator">=</span> <span class="token string">'users'</span>

  <span class="token keyword">static</span> <span class="token function">state</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      fetching<span class="token punctuation">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token function">fields</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>With the above definition, the state inside Vuex Store would become like this.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  entities<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    users<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      fetching<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      data<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token comment">/* ... */</span> <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="mutating-state"><a href="#mutating-state" aria-hidden="true" class="header-anchor">#</a> Mutating State</h2> <p>To mutate state, you may use <code>static commit</code> method in Model.</p> <div class="language-js extra-class"><pre class="language-js"><code>User<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  state<span class="token punctuation">.</span>fetching <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>The <code>static commit</code> method receives <code>state</code> object as same as usual Vuex Mutation, and you may mutate any field using the state.</p> <p>Note that the callback function passed to the <code>commit</code> method is called within the Vuex Mutation handler. Which means, the callback should always follow the rule for the mutations that it must be synchronous.</p> <h2 id="defining-modules"><a href="#defining-modules" aria-hidden="true" class="header-anchor">#</a> Defining Modules</h2> <p>You can register the Vuex Module alongside with Model under the same namespace. Modules are simple <a href="https://vuex.vuejs.org/en/modules.html" target="_blank" rel="noopener noreferrer">Vuex Modules<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that whould correspond to the Models. You are free to add any additional module functionalities such as Actions or Mutations as you wish.</p> <p>To define and register the module, you can create ordinally Vuex Module and pass it as 2nd argument to the <code>database.register</code> method.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">{</span>
  state<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  mutations<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> count</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count <span class="token operator">=</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> count
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

database<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>User<span class="token punctuation">,</span> users<span class="token punctuation">)</span>
</code></pre></div><blockquote><p><strong>WARNING:</strong> Do not create state named <code>data</code>. The key name <code>data</code> is reserved, and Vuex ORM will override its value when storing data.</p></blockquote> <p>You may interact with the Store as you ordinally would with Vuex. If you have defined some additional state, getters, actions, and mutations, you can call them through the Vuex Module syntax.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">{</span>
  state<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  mutations<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">add</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> count</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count <span class="token operator">=</span> state<span class="token punctuation">.</span>count <span class="token operator">+</span> count
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Get state.</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>users<span class="token punctuation">.</span>count

<span class="token comment">// Commit mutation.</span>
store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'entities/users/add'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="call-module-methods-fom-model"><a href="#call-module-methods-fom-model" aria-hidden="true" class="header-anchor">#</a> Call Module Methods fom Model</h2> <p>An alternative to calling store methods directly, you may access the store instance from a model as well to dispatch actions or call getters.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> User<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><p>The above code is exactly same as below.</p> <div class="language-js extra-class"><pre class="language-js"><code>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'entities/users/add'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><p>By calling Module methods from Model, you can omit full namespace path since Vuex ORM knows where the Model is registered.</p> <h3 id="accessing-store-instance"><a href="#accessing-store-instance" aria-hidden="true" class="header-anchor">#</a> Accessing Store Instance</h3> <p>You can access the store instance via the <code>store</code> method.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> User<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>To get store from Model instance, you must use <code>$store</code> method.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">$store</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="dispatching-actions"><a href="#dispatching-actions" aria-hidden="true" class="header-anchor">#</a> Dispatching Actions</h3> <p>You can dispatch an action via the <code>dispatch</code> method. The <code>dispatch</code> method in the model will automatically be namespaced, so you don't have to pass in the root namespace or entity name as an argument.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// As static method.</span>
User<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'someAction'</span><span class="token punctuation">)</span>


<span class="token comment">// As instance method.</span>
<span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$dispatch</span><span class="token punctuation">(</span><span class="token string">'someAction'</span><span class="token punctuation">)</span>
</code></pre></div><p>As you can see, in the above example we didn't call the dispatch action as <code>entities/users/someAction</code>, because the <code>entities/users</code> part is generated by the model.</p> <h3 id="calling-getters"><a href="#calling-getters" aria-hidden="true" class="header-anchor">#</a> Calling Getters</h3> <p>You can call getters via the <code>getters</code> method. Be aware that getters in the model should be called as a method, not via the array accessing syntax.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// As static method.</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> User<span class="token punctuation">.</span><span class="token function">getters</span><span class="token punctuation">(</span><span class="token string">'getSomething'</span><span class="token punctuation">)</span>

<span class="token comment">// As instance method.</span>
<span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$getters</span><span class="token punctuation">(</span><span class="token string">'getSomething'</span><span class="token punctuation">)</span>
</code></pre></div><p>The same as actions, getters in the model is also namespaced automatically.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuex-orm/guide/data/deleting.html" class="prev">Deleting</a></span> <span class="next"><a href="/vuex-orm/guide/digging-deeper/lifecycle-hooks.html">Lifecycle Hooks</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vuex-orm/assets/js/app.85b8a76f.js" defer></script><script src="/vuex-orm/assets/js/2.ef981a97.js" defer></script><script src="/vuex-orm/assets/js/17.1bbf4420.js" defer></script>
  </body>
</html>
